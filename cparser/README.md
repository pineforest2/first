# cparser

## `ParseInt.c`

针对符合解析成int（32bit）要求的字符串，能成功解析并返回正确的结果。否则，直接使用`assert(0)`中止程序。
下面是几种典型的符合解析成int要求：
- 十进制整数：`11`、`+11`、`-11`。
- 十六进制整数：`0x1f`、`+0x1f`、`-0x1f`、`0x00abcdef`、`0X1F`、`0x1F`、`0X1f`。
- 八进制整数：`0`、`000`、`011`、`00011`。

对于符合以上要求，但是造成int溢出的属于未定义行为。为了代码简洁，无需给出int溢出的警告信息。

### 分析

字符串被解析的状态由最前面的三个符号，可有下面几种情况：
- 第一个字符是`1-9`，应解析为正的十进制数。
- 第一个字符是`0`，去看第二个字符。若第二个字符是`x`或`X`，则应解析为正的十六进制数；若第二个字符是`0-7`，则应解析为正的八进制数。
- 第一个字符是`+`，无需改变任何状态，继续看后面两个字符。
- 第一个字符是`-`，只需将负号标志位置位，继续看后面两个字符。

以上过程被命名为处理前缀，对应函数`__proc_prefix`。之后的过程就较为简单的，这里就不在赘述。

## `ParseFloat.c`

针对符合解析成IEEE 754中的float（32bit）要求的字符串，能成功解析并返回恰当的结果。否则，直接使用`assert(0)`中止程序。
下面是几种典型的符合解析成float要求：
- 十进制小数：`1.1`、`+1.1`、`-1.1`、`001.1`、`-001.1`、`1.`、`.1`。
- E计数法：`11e-1`、`11E-1`、`+11e-1`、`-11e-1`、`-00011e-01`。
- 十进制小数搭配E计数法：`0.11e1`。

允许前导零存在，不会对数值任何影响，直接略过即可。

### 分析

被解析的字符串必须要有`.`或`e`或`E`，可能含有`+`与`-`。
> 使用函数`parse_float`解析表示int的字符串，例如`"1"`，是未定义行为。请使用前面的函数`parse_int`解析C中的conversion能达到相同的功能，或者可在表示int的字符串最后加一点再用`parse_float`解析，例如`"1."`。

先扫描一篇字符串，找出`.`、`e`、`E`、`+`、`-`。

